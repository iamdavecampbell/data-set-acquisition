---
title: "Open Ottawa"
execute:
    cache: true
    jupyter: python3
author: "Dean Jayatilleke & Junpu Xie & Dave Campbell"
date: '2024-07-10'
slug: 
categories: []
tags: ["Ottawa"]
subtitle: ''
summary: 'Retrieving Open Ottawa Data and producing plots using Open Street Maps'
output: html_document
ipynb-shell-interactivity: all
---

## Possible Analysis and Keywords

- Open Street Maps
- Traffic Collisions
- Service Requests
- Ottawa Open Data

## Data Provider

```{python packages}

import pandas as pd 

import geopandas as gp
import mapclassify
import folium

```

```{python service request dataset}

#https://open.ottawa.ca/datasets/8a5030af268a4a3485b72356dd7dfa85/about

service = pd.read_csv("https://www.arcgis.com/sharing/rest/content/items/8a5030af268a4a3485b72356dd7dfa85/data")

service.head()

```


```{python service data cleaning}

service.columns = service.columns.str.split("|").str[0].str.rstrip()

```

```{python service locations}

service_locations = service[~service["Latitude"].str.contains("N")]

service_locations.tail()

```

```{python noise complaints map}

service_geo = gp.GeoDataFrame(
    service_locations, geometry=gp.points_from_xy(service_locations["Longitude"],
    service_locations["Latitude"]), crs="epsg:4386")

service_geo.explore()
#service_geo[service_geo["Type"].str.contains("Dead Animal")].explore()


```

```{python traffic collision dataset}

#https://open.ottawa.ca/datasets/ottawa::2020-tabular-transportation-collision-data/about

traffic = pd.read_csv("https://opendata.arcgis.com/api/v3/datasets/bf701649829642d28fa2e400a7136bdd_0/downloads/data?format=csv&spatialRefId=4326&where=1%3D1")

traffic.head()

```


```{python collision map}

traffic_geo = gp.GeoDataFrame(
    traffic, geometry=gp.points_from_xy(traffic["Longitude"],
    traffic["Latitude"]), crs="epsg:4386")

traffic_geo.explore()

```
