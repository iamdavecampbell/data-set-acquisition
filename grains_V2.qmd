---
title: "Trade Data: Monthly Exports of Grains - Open Canada"
author: "Dean Jayatilleke & Junpu Xie & Dave Campbell"
date: '2020-07-24'
slug: trade-data-monthly-exports-of-grains-open-canada
categories: ["Trade Data"]
tags: ["Time Series", "Spatial Data Set", "Linear Chart", "Grains Export", "Trade Data", "Data Wrangling"]
subtitle: ''
summary: 'This dataset recorded 862 series from the year 1922 to 2017, the data is described by many dimensions, such as commodities about 9 different types of grains, export destinations which consist of 217 countries, 10 continents(Total Western Europe, Total Asia,…) and 1 total destination(Toal exports, all destinations), the export value unit is recorded as tonnes.'
---

## Possible Analysis and Keywords

- Time Series
- Data Wrangling
- Linear Chart
- Grains Export
- Trade Data

## Data Provider

Statistics Canada's [Open Government](https://open.canada.ca/en) is a free and open-access platform  containing over 80,000 datasets across diverse subjects. The purpose of sharing all data documents with the public is to remain transparent and accessible. 

Dataset can be discovered by multiple searching methods [here](https://open.canada.ca/en/open-data), such as [Browse by subject](https://open.canada.ca/en/open-data), [Open Government Portal](https://search.open.canada.ca/en/od/?sort=last_modified_tdt%20desc&page=1&search_text=&od-search-portal=Open%20Data&_ga=2.198521263.1872662645.1597195650-535176367.1594143568) for direct keywords search, [Open Maps](https://open.canada.ca/en/open-map) which contains geospatial information data, [Open Data Inventory](https://open.canada.ca/en/search/inventory) from the government of Canada organization, [Apps Gallery](https://open.canada.ca/en/apps) for representing those mobile and web-based application data, [Open Data 101](https://open.canada.ca/en/open-data-principles) for letting people know how to use dataset and so on.

***

## Exports of Grains, by the final destination

This dataset recorded 862 observations from the year 1922 to 2017, the data is described by many dimensions, such as commodities about 9 different types of grains, export destinations of 217 countries, 10 continents(Total Western Europe, Total Asia,…) and 1 total destination (Toal exports, all destinations), the export value unit is recorded as tonnes.

The dataset and its metadata file with detailed variable descriptions have been stored together as a zip file. You can find detailed information [here](https://open.canada.ca/data/en/dataset/33a5e534-b62a-45b7-b36c-ddc16d53f6a0), and you also can quickly discover the customized table [here](https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=3210000801).

## Organizing Dataset

The following code is used to extract the whole dataset of grains export from the official website and perform the linear chart of total grains export to all destinations by grouping commodities.

```{python dataset}

# packages
import requests, zipfile, io
import tempfile as tf
import pandas as pd
import seaborn as sb
import matplotlib.pyplot as plt

temp = tf.TemporaryFile()
url = "https://www150.statcan.gc.ca/n1/tbl/csv/32100008-eng.zip"
r = requests.get(url)
temp = zipfile.ZipFile(io.BytesIO(r.content))
file_list = temp.namelist()
print(file_list)

#get column names so we can chose the columns we want
meta_columns= pd.read_csv(temp.open('32100008_MetaData.csv'), nrows=0, skiprows = 8).columns.tolist()
print(meta_columns)

export_data = pd.read_csv(temp.open('32100008.csv'))
export_data = export_data.rename(columns = {"GEO" : "location", "REF_DATE" : "date"})
export_data["year"] = pd.to_numeric(export_data["date"].str.split("-").str[0])
export_data["month"] = pd.to_numeric(export_data["date"].str.split("-").str[1])

export_data.head()

```